; Listing generated by Microsoft (R) Optimizing Compiler Version 17.00.50727.1 

include listing.inc

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?x86_64_check_signal@@YA_NPEAU_thread_@@PEAUinterrupt_stack_frame@@@Z ; x86_64_check_signal
; Function compile flags: /Odtpy
; File e:\xeneva project\xeneva\aurora\aurora\arch\x86_64\x86_64_signal.cpp
_TEXT	SEGMENT
current_thread$ = 8
frame$ = 16
?x86_64_check_signal@@YA_NPEAU_thread_@@PEAUinterrupt_stack_frame@@@Z PROC ; x86_64_check_signal

; 40   : bool x86_64_check_signal (thread_t *current_thread, interrupt_stack_frame *frame) {

	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx

; 41   : 	if (current_thread->pending_signal > 0 && frame->cs == SEGVAL(GDT_ENTRY_USER_CODE,3)) {

	mov	rax, QWORD PTR current_thread$[rsp]
	cmp	DWORD PTR [rax+1064], 0
	jle	SHORT $LN1@x86_64_che
	mov	rax, QWORD PTR frame$[rsp]
	cmp	QWORD PTR [rax+24], 43			; 0000002bH
	jne	SHORT $LN1@x86_64_che

; 42   : 		return true;

	mov	al, 1
	jmp	SHORT $LN2@x86_64_che
$LN1@x86_64_che:

; 43   : 	}
; 44   : 	return false;

	xor	al, al
$LN2@x86_64_che:

; 45   : }

	fatret	0
?x86_64_check_signal@@YA_NPEAU_thread_@@PEAUinterrupt_stack_frame@@@Z ENDP ; x86_64_check_signal
_TEXT	ENDS
END
